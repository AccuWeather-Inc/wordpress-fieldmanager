{"version":3,"sources":["webpack://Fieldmanager/./js/fieldmanager-draggablepost.js"],"names":["$","resetEmptyMessages","each","i","this","find","length","hide","show","populateHiddenElements","post_ids","input_name","attr","replace","push","val","join","fmLoadModule","sortable","connectWith","cancel","droppable","hoverClass","drop","event","ui","draggable","prependTo","setTimeout","jQuery"],"mappings":"CAAA,SAAUA,GAsBT,SAASC,IACRD,EAAE,aAAaE,MAAK,SAASC,GACxBH,EAAEI,MAAMC,KAAK,mBAAmBC,OAAS,EAC5CN,EAAEI,MAAMC,KAAK,kBAAkBE,OAG/BP,EAAEI,MAAMC,KAAK,kBAAkBG,UAIlC,SAASC,IACRT,EAAE,aAAaE,MAAK,SAASC,GAC5B,IAAIO,EAAW,GACXC,EAAaX,EAAEI,MAAMQ,KAAK,MAAMC,QAAQ,OAAQ,IACpDb,EAAEI,MAAMC,KAAK,mBAAmBH,MAAK,SAASC,GAC7CO,EAASI,KAAKd,EAAEI,MAAMQ,KAAK,eAE5BZ,EAAE,IAAMW,GAAYI,IAAIL,EAASM,KAAK,SAIxCC,cA1CA,WACChB,IACAD,EAAE,cAAckB,SAAS,CACxBC,YAAa,aACbC,OAAQ,MAETpB,EAAE,aAAaqB,UAAU,CACxBC,WAAY,kBACZC,KAAM,SAASC,EAAOC,GACrBA,EAAGC,UAAUC,UAAU3B,EAAEI,OACzBwB,YAAW,WAAa3B,IAAsBQ,MAA6B,OAG7ET,EAAE,oBAAoBqB,UAAU,CAC/BC,WAAY,yBACZC,KAAM,SAASC,EAAOC,GACrBA,EAAGC,UAAUC,UAAU3B,EAAEI,OACzBwB,YAAW,WAAa3B,IAAsBQ,MAA6B,UAlB/E,CA4CGoB","file":"js/fieldmanager-draggablepost.bundle.min.js","sourcesContent":["(function($) {\n\tfunction draggablePostInit() {\n\t\tresetEmptyMessages();\n\t\t$('.sortables').sortable({\n\t\t\tconnectWith: '.sortables',\n\t\t\tcancel: 'a'\n\t\t});\n\t\t$('.post-bin').droppable({\n\t\t\thoverClass: 'post-bin-active',\n\t\t\tdrop: function(event, ui) {\n\t\t\t\tui.draggable.prependTo($(this));\n\t\t\t\tsetTimeout(function() { resetEmptyMessages(); populateHiddenElements(); }, 10);\n\t\t\t}\n\t\t});\n\t\t$('.post-repository').droppable({\n\t\t\thoverClass: 'post-repository-active',\n\t\t\tdrop: function(event, ui) {\n\t\t\t\tui.draggable.prependTo($(this));\n\t\t\t\tsetTimeout(function() { resetEmptyMessages(); populateHiddenElements(); }, 10);\n\t\t\t}\n\t\t});\n\t}\n\tfunction resetEmptyMessages() {\n\t\t$('.post-bin').each(function(i) {\n\t\t\tif ($(this).find('.draggable-post').length > 0) {\n\t\t\t\t$(this).find('.empty-message').hide();\n\t\t\t}\n\t\t\telse {\n\t\t\t\t$(this).find('.empty-message').show();\n\t\t\t}\n\t\t});\n\t}\n\tfunction populateHiddenElements() {\n\t\t$('.post-bin').each(function(i) {\n\t\t\tvar post_ids = [];\n\t\t\tvar input_name = $(this).attr('id').replace('-bin', '');\n\t\t\t$(this).find('.draggable-post').each(function(i) {\n\t\t\t\tpost_ids.push($(this).attr('post_id'));\n\t\t\t});\n\t\t\t$('#' + input_name).val(post_ids.join(','));\n\t\t});\n\t}\n\n\tfmLoadModule( draggablePostInit );\n})(jQuery);\n"],"sourceRoot":""}