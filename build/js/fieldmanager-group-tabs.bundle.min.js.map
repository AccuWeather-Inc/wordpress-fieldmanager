{"version":3,"sources":["webpack://Fieldmanager/external \"jQuery\"","webpack://Fieldmanager/webpack/bootstrap","webpack://Fieldmanager/./js/fieldmanager-group-tabs.js"],"names":["module","exports","jQuery","__webpack_module_cache__","__webpack_require__","moduleId","__webpack_modules__","FieldmanagerGroupTabs","$","init","bindEvents","restoreSelectedTabs","each","proxy","k","el","this","bindClickEvents","document","on","e","target","length","counter","parent","data","siblings","replaceProto","attr","replace","supportsLocalStorage","id","closest","localStorage","hoverIntent","over","b","o","f","menutop","wintop","maxtop","m","find","is","offset","top","menuleft","position","left","menuwidth","width","window","scrollTop","height","css","removeClass","addClass","out","timeout","sensitivity","interval","preventDefault","selectTab","currentTarget","children","$element","t","parents","hide","show","trigger","setTimeout","fmLoadModule"],"mappings":"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","file":"js/fieldmanager-group-tabs.bundle.min.js","sourcesContent":["module.exports = jQuery;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","var FieldmanagerGroupTabs;\n( function( $ ) {\n\n\tFieldmanagerGroupTabs = {\n\n\t\t/**\n\t\t * Initialize group tabs\n\t\t */\n\t\tinit: function() {\n\n\t\t\tFieldmanagerGroupTabs.bindEvents();\n\n\t\t\tFieldmanagerGroupTabs.restoreSelectedTabs();\n\n\t\t},\n\n\t\t/**\n\t\t * Bind events\n\t\t */\n\t\tbindEvents: function() {\n\n\t\t\t$('.fm-tab-bar').each( $.proxy( function( k, el ) {\n\t\t\t\tthis.bindClickEvents( $( el ) );\n\t\t\t}, this ) );\n\t\t\t$( document ).on( 'fm_added_element', $.proxy( function( e ) {\n\t\t\t\tvar el = $( e.target );\n\t\t\t\tif ( ! $( '.fm-tab-bar a', el ).length ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tcounter = el.parent().data( 'fm-group-counter' );\n\t\t\t\tif ( ! counter ) {\n\t\t\t\t\tcounter = el.siblings( '.fm-item' ).length - 1;\n\t\t\t\t} else {\n\t\t\t\t\tcounter++;\n\t\t\t\t}\n\t\t\t\tel.parent().data( 'fm-group-counter', counter );\n\t\t\t\tvar replaceProto = function( el, attr ) {\n\t\t\t\t\tel.attr( attr, el.attr( attr ).replace( '-proto-', '-' + counter + '-' ) );\n\t\t\t\t};\n\n\t\t\t\t// We also need to set these unique IDs, because FM doesn't do it for us.\n\t\t\t\t$( '.fm-tab-bar a', el ).each( function() {\n\t\t\t\t\treplaceProto( $( this ), 'href' );\n\t\t\t\t});\n\t\t\t\t$( '.wp-tabs-panel', el ).each( function() {\n\t\t\t\t\treplaceProto( $( this ), 'id' );\n\t\t\t\t});\n\t\t\t\tthis.bindClickEvents( el );\n\t\t\t}, this ) );\n\n\t\t\tif ( this.supportsLocalStorage() ) {\n\t\t\t\t$('.fm-tab-bar.fm-persist-active-tab .fm-tab a').on('click', function(){\n\t\t\t\t\tvar el = $(this);\n\t\t\t\t\tvar id = el.closest('.fm-tab-bar').attr('id');\n\t\t\t\t\tlocalStorage[ id ] = el.attr('href');\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t$('.fm-has-submenu').hoverIntent({\n\t\t\t\tover: function(e){\n\n\t\t\t\t\tvar el = $(this);\n\n\t\t\t\t\tvar b, h, o, f, m = el.find('.fm-submenu'), menutop, wintop, maxtop;\n\n\t\t\t\t\tif ( m.is(':visible') )\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\tmenutop = el.offset().top;\n\t\t\t\t\tmenuleft = el.position().left;\n\t\t\t\t\tmenuwidth = el.width();\n\t\t\t\t\twintop = $(window).scrollTop();\n\t\t\t\t\tmaxtop = menutop - wintop - 30; // max = make the top of the sub almost touch admin bar\n\n\t\t\t\t\tb = menutop + m.height() + 1; // Bottom offset of the menu\n\t\t\t\t\th = $('#wpwrap').height(); // Height of the entire page\n\t\t\t\t\to = 60 + b - h;\n\t\t\t\t\tf = $(window).height() + wintop - 15; // The fold\n\n\t\t\t\t\tif ( f < (b - o) )\n\t\t\t\t\t\to = b - f;\n\n\t\t\t\t\tif ( o > maxtop )\n\t\t\t\t\t\to = maxtop;\n\n\t\t\t\t\tif ( o > 1 )\n\t\t\t\t\t\tm.css('margin-top', '-'+o+'px');\n\t\t\t\t\telse\n\t\t\t\t\t\tm.css('margin-top', '');\n\n\t\t\t\t\tel.find('.fm-submenu').css('left', menuleft);\n\n\t\t\t\t\tel.find('.fm-submenu').removeClass('sub-open');\n\t\t\t\t\tm.addClass('sub-open');\n\t\t\t\t},\n\t\t\t\tout: function(){\n\t\t\t\t\t$(this).find('.fm-submenu').removeClass('sub-open').css('margin-top', '');\n\t\t\t\t},\n\t\t\t\ttimeout: 200,\n\t\t\t\tsensitivity: 7,\n\t\t\t\tinterval: 90\n\t\t\t});\n\n\t\t},\n\n\t\t/**\n\t\t * Bind tab item click events\n\t\t */\n\t\tbindClickEvents: function( el ) {\n\t\t\t$( 'a', el ).on( 'click.fm-select-tab', $.proxy( function( e ) {\n\t\t\t\te.preventDefault();\n\t\t\t\tthis.selectTab( $( e.currentTarget ) );\n\t\t\t}, this ) );\n\t\t\t$( 'li', el ).on( 'click.fm-select-tab', $.proxy( function( e ) {\n\t\t\t\te.preventDefault();\n\t\t\t\tthis.selectTab( $( e.currentTarget ).children('a') );\n\t\t\t}, this ) );\n\t\t},\n\n\t\t/**\n\t\t * Select a given tab\n\t\t */\n\t\tselectTab: function( $element ) {\n\n\t\t\tvar t = $element.attr( 'href' );\n\t\t\t$element.parents('.fm-tab').addClass( 'wp-tab-active' ).siblings( 'li' ).removeClass( 'wp-tab-active' );\n\t\t\t$( t ).siblings( 'div' ).hide();\n\t\t\t$( t ).show().trigger( 'fm_activate_tab' );\n\n\t\t},\n\n\t\t/**\n\t\t * Restore selected tabs\n\t\t */\n\t\trestoreSelectedTabs: function() {\n\n\t\t\t// requires localStorage\n\t\t\tif ( ! this.supportsLocalStorage() ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t$('.fm-tab-bar.fm-persist-active-tab').each( function(){\n\t\t\t\tvar el = $(this);\n\t\t\t\tvar id = el.attr('id');\n\t\t\t\tif ( localStorage[ id ] ) {\n\t\t\t\t\tsetTimeout( function(){\n\t\t\t\t\t\tel.find('a[href=\"' + localStorage[ id ] + '\"]').trigger('click');\n\t\t\t\t\t}, 1 );\n\t\t\t\t}\n\t\t\t});\n\n\t\t},\n\n\t\t/**\n\t\t * Check whether the browser supports local storage\n\t\t */\n\t\tsupportsLocalStorage: function() {\n\t\t\ttry {\n\t\t\t\treturn 'localStorage' in window && window['localStorage'] !== null;\n\t\t\t} catch (e) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t};\n\n\tfmLoadModule( FieldmanagerGroupTabs.init );\n} )( jQuery );\n\nexport default FieldmanagerGroupTabs;\n"],"sourceRoot":""}