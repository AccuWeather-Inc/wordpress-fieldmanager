(()=>{var e={609:e=>{"use strict";e.exports=jQuery}},t={};function i(a){if(t[a])return t[a].exports;var r=t[a]={exports:{}};return e[a](r,r.exports,i),r.exports}(()=>{var e,t=i(609),a=[];(e=t)(document).on("click",".fm-media-remove",(function(t){t.preventDefault(),e(this).parents(".fm-item.fm-media").find(".fm-media-id").val(0),e(this).parents(".fm-item.fm-media").find(".media-wrapper").html("")})),e(document).on("click",".media-wrapper a",(function(t){t.preventDefault(),e(this).closest(".media-wrapper").siblings(".fm-media-button").click()})),e(document).on("click",".fm-media-button",(function(t){var i=e(this),r={};t.preventDefault(),a[i.attr("id")]||(i.data("mime-type")&&"all"!==i.data("mime-type")&&(r.type=i.data("mime-type")),a[i.attr("id")]=wp.media({library:r,title:i.data("choose"),button:{text:i.data("update")}}),i.data("mime-type")&&"all"!==i.data("mime-type")&&a[i.attr("id")].on("library:selection:add",(function(){if(void 0!==a[i.attr("id")]&&a[i.attr("id")].$el.is(":visible")){var e=a[i.attr("id")].state().get("selection"),t=e.first();t.attributes.type!==i.data("mime-type")&&e.remove(t)}})),a[i.attr("id")].on("select",(function(){var e=a[i.attr("id")].state().get("selection").first().attributes;if(props={size:i.data("preview-size")||"thumbnail"},props=wp.media.string.props(props,e),props.align="none",props.link="custom",props.linkUrl="#",props.caption="",i.parent().find(".fm-media-id").val(e.id),"image"==e.type){props.url=props.src;var t="Uploaded file:<br />";t+=wp.media.string.image(props)}else t="Uploaded file:&nbsp;",t+=wp.media.string.link(props);t+='<br /><a class="fm-media-remove fm-delete" href="#">remove</a>';var r=i.parent().find(".media-wrapper");r.html(t).trigger("fieldmanager_media_preview",[r,e,wp])})),a[i.attr("id")].on("open",(function(){var e,t=a[i.attr("id")].state().get("selection"),r=i.parent().find(".fm-media-id").val();""!==r&&-1!==r&&void 0!==wp.media.attachment&&(e=wp.media.attachment(r)).fetch(),t.reset(e?[e]:[])}))),a[i.attr("id")].open()}))})()})();
//# sourceMappingURL=fieldmanager-media.bundle.min.js.map