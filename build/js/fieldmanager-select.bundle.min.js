!function(){var e;e=jQuery,fm_select_clear_terms=function(e,t,s){e.find("option:not(:selected)").remove(),e.trigger("chosen:updated")},fm_append_options=function(t,s,n){s.each((function(s,i){"selected"==n&&i.attr("selected","selected"),0==t.find("option[value="+e(i).val()+"]").length&&t.append(e(i))}))},fm_reset_chosen=function(t,s){t.val(s);var n=14*s.length+25;t.css({width:n+"px"}),t.parents(".chosen-choices").siblings(".chosen-drop").find("li.group-result").hide(),t.parents(".chosen-choices").siblings(".chosen-drop").find("li.active-result").each((function(t,s){e(s).prevUntil(".group-result").prev(".group-result").show(),e(s).prev(".group-result").show()}))},fmLoadModule((function(){e(".fm-wrapper").on("keyup",".fm-item .chosen-choices input,.fm-item .chosen-search input",(function(t){t.keyCode>=37&&t.keyCode<=40||($fm_select_field=e(this).parents(".chosen-container").siblings("select"),$fm_text_field=e(this),""!=$fm_select_field.data("taxonomy")&&0==$fm_select_field.data("taxonomyPreload")&&(fm_typeahead_term=e(this).val(),e.post(ajaxurl,{action:"fm_search_terms",search_term:$fm_text_field.val(),taxonomy:$fm_select_field.data("taxonomy"),fm_search_terms_nonce:fm_select.nonce},(function(t){fm_text_field_val=$fm_text_field.val(),fm_select_clear_terms($fm_select_field,"",!1),$fm_select_field.trigger("chosen:updated"),fm_reset_chosen($fm_text_field,fm_text_field_val),""!=t&&($resultObj=e(t),$resultObj.filter("optgroup").each((function(t,s){var n="optgroup[label='"+e(this).attr("label")+"']";$fm_select_field.find(n).length>0?fm_append_options($fm_select_field.find(n),e(this).children("option")):$fm_select_field.append($fm_select_field,e(this))})),fm_append_options($fm_select_field,$resultObj.filter("option"))),$fm_select_field.trigger("chosen:updated"),fm_reset_chosen($fm_text_field,fm_text_field_val)}))))})),e(".fm-wrapper").on("click",".fm-item .chosen-choices input",(function(t){var s=e(this).parents(".chosen-container").siblings("select");""!=s.data("taxonomy")&&0==s.data("taxonomyPreload")&&fm_select_clear_terms(s,e(this).parents(".chosen-choices"),!0)}))}))}();
//# sourceMappingURL=fieldmanager-select.bundle.min.js.map