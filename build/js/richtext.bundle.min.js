(()=>{var t={609:t=>{"use strict";t.exports=jQuery}},e={};function i(r){if(e[r])return e[r].exports;var n=e[r]={exports:{}};return t[r](n,n.exports,i),n.exports}(()=>{var t=i(609);if(void 0===e)var e={};!function(t){e.richtextarea={add_rte_to_visible_textareas:function(){t("textarea.fm-richtext:visible").each((function(){var i,r,n,o;if(!t(this).hasClass("fm-tinymce")&&(t(this).addClass("fm-tinymce"),i=t(this).attr("id"),"undefined"!=typeof tinymce)){if(void 0===tinyMCEPreInit.mceInit[i]){if(o=t(this).data("proto-id"),t(this).closest(".fm-wrapper").html(t(this).closest(".fm-wrapper").html().replace(new RegExp(o,"g"),i)),!o||void 0===tinyMCEPreInit.mceInit[o])return;(r=t.extend(!0,{},tinyMCEPreInit.mceInit[o])).body_class=r.body_class.replace(o,i),r.selector=r.selector.replace(o,i),r.wp_skip_init=!1,tinyMCEPreInit.mceInit[i]=r,o&&void 0!==tinyMCEPreInit.qtInit[o]&&((n=t.extend(!0,{},tinyMCEPreInit.qtInit[o])).id=n.id.replace(o,i),tinyMCEPreInit.qtInit[i]=n)}try{"html"!==e.richtextarea.mode_enabled(this)&&(tinymce.init(tinyMCEPreInit.mceInit[i]),t(this).closest(".wp-editor-wrap").on("click.wp-editor",(function(){this.id&&(window.wpActiveEditor=this.id.slice(3,-5))})))}catch(t){}try{void 0!==tinyMCEPreInit.qtInit[i]&&(quicktags(tinyMCEPreInit.qtInit[i]),"undefined"!=typeof QTags&&-1!==i.indexOf("-dynamic-")&&QTags._buttonsInit())}catch(t){}}}))},reload_editors:function(i,r){r&&void 0!==r.nodeType&&t(".fm-tinymce",r).each((function(){var i,r="html"===e.richtextarea.mode_enabled(this),n=tinymce.get(this.id),o=n.getContent();r&&t("#"+this.id+"-tmce").click(),i="mceRemoveControl",parseInt(tinymce.majorVersion)>=4&&(i="mceRemoveEditor"),tinymce.execCommand(i,!1,this.id),i="mceAddControl",parseInt(tinymce.majorVersion)>=4&&(i="mceAddEditor"),tinymce.execCommand(i,!1,this.id),(n=tinymce.get(this.id)).setContent(o),r&&t("#"+this.id+"-html").click()}))},mode_enabled:function(e){return t(e).closest(".html-active").length?"html":"tinymce"},reset_core_editor_mode:function(){"html"!==i&&"tinymce"!==i||setUserSetting("editor",i)},should_readd_rte:function(t,i){i.classList.contains("closed")||!i.querySelector("textarea.fm-richtext")||i.querySelector("textarea.fm-tinymce")||e.richtextarea.add_rte_to_visible_textareas()}},t(document).on("fm_collapsible_toggle fm_added_element fm_activate_tab fm_displayif_toggle",e.richtextarea.add_rte_to_visible_textareas),t(document).on("fm_sortable_drop",e.richtextarea.reload_editors),t(document).on("postbox-toggled",e.richtextarea.should_readd_rte),t(document).on("click",".fm-richtext .wp-switch-editor",(function(){var i=this.id,r=i.length,n=i.substr(0,r-5),o="html"===i.substr(r-4)?"html":"tinymce";"fm-edit-dynamic"!==n.substr(0,15)&&t(this).closest(".fm-richtext-remember-editor").length&&setUserSetting("editor_"+n.replace(/-/g,"_").replace(/[^a-z0-9_]/gi,""),o),setTimeout(e.richtextarea.reset_core_editor_mode,50)}));var i=getUserSetting("editor");t(document).on("click","#content-tmce,#content-html",(function(){var t=this.id,e=t.length,r=(t.substr(0,e-5),"html"===t.substr(e-4)?"html":"tinymce");i=r})),fmLoadModule((function(){e.richtextarea.add_rte_to_visible_textareas(),t(".meta-box-sortables").on("sortstop",(function(t,i){e.richtextarea.reload_editors(t,i.item[0])}))}))}(t)})()})();
//# sourceMappingURL=richtext.bundle.min.js.map